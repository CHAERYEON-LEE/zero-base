export default class ButtonGroup extends HTMLElement{#t;#e;constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>@import "${new URL("style.css",import.meta.url)}";</style><slot></slot>`,this.#t=this.attachInternals?.(),this.#t&&(this.#t.role="region"),this.addEventListener("click",(t=>{let e=this.value+"",s=t.target;for(;s&&s.parentNode!==this;)s=s.parentNode;if(s&&(this.#s(s),e!==this.value+"")){let t=new InputEvent("input",{bubbles:!0});this.dispatchEvent(t)}})),this.#e=new MutationObserver((t=>{(t=t.filter((t=>{if(t.target===this)return!0;if(t.target.parentNode===this){if("childList"===t.type)return!0;if(t.oldValue!==t.target.getAttribute("aria-pressed"))return!0}return!1}))).length>0&&this.#s()}))}#s(t){if(this.multiple){if(this.#i||=[],t){let e="true"===t.getAttribute("aria-pressed"),s=getValue(t);e?this.#i=this.#i.filter((t=>t!==s)):this.#i.push(s)}this.value=this.#i}else this.value=getValue(t??this.pressedButton)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}get multiple(){return this.hasAttribute("multiple")}set multiple(t){t?this.setAttribute("multiple",""):this.removeAttribute("multiple")}#i;get value(){return this.#i}set value(t){this.#i=t,this.#t?.setFormValue(t);for(let t of this.children){t.hasAttribute("type")||(t.type="button");let e=getValue(t),s=(this.multiple?this.#i.includes(e):this.#i===e).toString();s!==t.getAttribute("aria-pressed")&&t.setAttribute("aria-pressed",s)}}get pressedButtons(){return[...this.querySelectorAll(':scope > [aria-pressed="true"]')]}get pressedButton(){return this.pressedButtons.at(-1)}get labels(){return this.#t?.labels}connectedCallback(){this.#s(),this.#e.observe(this,{attributeFilter:["aria-pressed"],attributeOldValue:!0,childList:!0,subtree:!0})}disconnectedCallback(){this.#e.disconnect()}static get formAssociated(){return!0}}function getValue(t){return t?t.hasAttribute("value")?t.value:t.textContent.trim():null}customElements.define("button-group",ButtonGroup);